<!--
  Generated template for the MessagesPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

    <ion-navbar>
        <ion-buttons end>
            <button ion-button icon-only (click)="composeMessage()">
                <ion-icon name="create"></ion-icon>
            </button>
        </ion-buttons>
        <ion-title>
            Messages
        </ion-title>

    </ion-navbar>

</ion-header>


<ion-content padding>


    <ion-refresher (ionRefresh)="getMessages($event)">

        <ion-refresher-content>

        </ion-refresher-content>

    </ion-refresher>

    <ion-list>

        <ion-card *ngFor="let conversation of conversations" class="main-card pointer"
                  (click)="viewConversation(conversation)">

            <div class="profile-header">

                <div class="left">
                    <img class="profile-image" [src]="getUserForMessage(conversation).profile_image"/>

                    <div class="profile-name">

                        <span class="name">{{getUserForMessage(conversation).first_name}} {{getUserForMessage(conversation).last_name}}</span>
                        <span class="handle">@{{getUserForMessage(conversation).username}}</span>


                    </div>
                </div>

                <div class="right">
                    <span>{{conversation.created_at | timeAgo}}</span>
                </div>

            </div>
        </ion-card>

    </ion-list>

</ion-content>
